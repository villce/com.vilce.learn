<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.vilce.springboot_vue.module.user.mapper.UserMapper">

    <select id="findAll" resultType="com.vilce.springboot_vue.module.user.model.User" >
		SELECT *
		FROM admin_user
    </select>

    <select id="getUserByUsername" resultType="com.vilce.springboot_vue.module.user.model.User" >
		SELECT *
		FROM admin_user
		WHERE username=#{username}
    </select>

    <insert id="addUser" parameterType="com.vilce.springboot_vue.module.user.model.User" >
		INSERT INTO admin_user (username,password,salt,name,phone,email,enabled)
		VALUES (#{username},
		        #{password},
		        #{salt},
		        #{name},
		        #{phone},
		        #{email},
		        #{enabled})
    </insert>

    <update id="updateUserInfo" parameterType="com.vilce.springboot_vue.module.user.model.User" >
        UPDATE admin_user
		SET name=#{name},
		    phone=#{phone},
		    email=#{email}
		WHERE username=#{username}
    </update>

    <update id="updateUserStatus" parameterType="com.vilce.springboot_vue.module.user.model.User" >
        UPDATE admin_user
		SET enabled=#{enabled}
		WHERE username=#{username}
    </update>

    <update id="updatePassword" parameterType="com.vilce.springboot_vue.module.user.model.User" >
        UPDATE admin_user
		SET password=#{password},
		    salt=#{salt}
		WHERE username=#{username}
    </update>
</mapper>
